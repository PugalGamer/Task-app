{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ABCD\\\\Desktop\\\\task-management-app-master\\\\frontend\\\\src\\\\component\\\\ListView.js\",\n  _s = $RefreshSig$();\nimport \"./ListView.css\";\nimport axios from \"axios\";\nimport { useEffect, useState, createContext } from \"react\";\nimport TaskListRow from \"./TaskListRow\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TasksContext = /*#__PURE__*/createContext();\nexport function dragAndDrop(doms) {\n  if (doms instanceof NodeList) {\n    doms.forEach(dom => {\n      dom.addEventListener(\"dragover\", container => {\n        container.preventDefault();\n        const draggedElement = document.querySelector(\".dragging\");\n        if (draggedElement.parentElement.parentElement.id != dom.parentElement.id) draggedElement.id = \"changeMe\";\n      });\n      dom.addEventListener(\"dragleave\", container => {\n        container.preventDefault();\n        const draggedElement = document.querySelector(\".dragging\");\n        draggedElement.id = \"\";\n      });\n    });\n  } else {\n    doms.addEventListener(\"dragover\", container => {\n      container.preventDefault();\n      const draggedElement = document.querySelector(\".dragging\");\n      if (draggedElement.parentElement.id != doms.id) draggedElement.id = \"changeMe\";\n    });\n    doms.addEventListener(\"dragleave\", container => {\n      container.preventDefault();\n      const draggedElement = document.querySelector(\".dragging\");\n      draggedElement.id = \"\";\n    });\n  }\n}\nexport default function ListView() {\n  _s();\n  const [updateTasks, setupdateTasks] = useState(false);\n  const [uncompletedTasks, setuncompletedTasks] = useState();\n  const [completedTasks, setcompletedTasks] = useState();\n  const getTasks = async () => {\n    const {\n      data\n    } = await axios.get(\"http://localhost:3002/api/tasks\");\n    if (data.success === true && data.data.length > 0) {\n      const uncompleted = data.data.filter(e => e.completed === false).map((e, i) => {\n        return /*#__PURE__*/_jsxDEV(TaskListRow, {\n          ...e\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 29\n        }, this);\n      });\n      if (uncompleted.length > 0) {\n        setuncompletedTasks([...uncompleted]);\n      } else {\n        setuncompletedTasks( /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"empty_list\",\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"List is empty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 64\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 37\n        }, this));\n      }\n      const completed = data.data.filter(e => e.completed === true).map((e, i) => {\n        return /*#__PURE__*/_jsxDEV(TaskListRow, {\n          ...e\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 29\n        }, this);\n      });\n      if (completed.length > 0) {\n        setcompletedTasks([...completed]);\n      } else {\n        setcompletedTasks( /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"empty_list\",\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"List is empty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 62\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 35\n        }, this));\n      }\n    } else {\n      setuncompletedTasks( /*#__PURE__*/_jsxDEV(\"tr\", {\n        className: \"empty_list\",\n        children: /*#__PURE__*/_jsxDEV(\"td\", {\n          children: \"List is empty\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 60\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 33\n      }, this));\n      setcompletedTasks( /*#__PURE__*/_jsxDEV(\"tr\", {\n        className: \"empty_list\",\n        children: /*#__PURE__*/_jsxDEV(\"td\", {\n          children: \"List is empty\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 58\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 31\n      }, this));\n    }\n  };\n  useEffect(() => {\n    dragAndDrop(document.querySelectorAll(\"table tbody\"));\n  }, []);\n  useEffect(() => {\n    getTasks();\n  }, [updateTasks]);\n  return /*#__PURE__*/_jsxDEV(TasksContext.Provider, {\n    value: setupdateTasks,\n    children: [/*#__PURE__*/_jsxDEV(\"table\", {\n      border: 0,\n      id: \"uncompleted_tasks_table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              display: \"flex\",\n              alignItems: \"center\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"TO DO\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              style: {\n                margin: 10\n              },\n              children: [\"tasks \", uncompletedTasks ? uncompletedTasks.length : 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: uncompletedTasks\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      id: \"completed_tasks_table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              display: \"flex\",\n              alignItems: \"center\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"COMPLETED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              style: {\n                margin: 10\n              },\n              children: [\"tasks \", completedTasks ? completedTasks.length : 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: completedTasks\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 9\n  }, this);\n}\n_s(ListView, \"rXeQgy1lbkJmpHYB2dvy+qB6/U0=\");\n_c = ListView;\nvar _c;\n$RefreshReg$(_c, \"ListView\");","map":{"version":3,"names":["axios","useEffect","useState","createContext","TaskListRow","TasksContext","dragAndDrop","doms","NodeList","forEach","dom","addEventListener","container","preventDefault","draggedElement","document","querySelector","parentElement","id","ListView","updateTasks","setupdateTasks","uncompletedTasks","setuncompletedTasks","completedTasks","setcompletedTasks","getTasks","data","get","success","length","uncompleted","filter","e","completed","map","i","querySelectorAll","display","alignItems","margin"],"sources":["C:/Users/ABCD/Desktop/task-management-app-master/frontend/src/component/ListView.js"],"sourcesContent":["\nimport \"./ListView.css\"\nimport axios from \"axios\";\nimport { useEffect, useState, createContext } from \"react\";\nimport TaskListRow from \"./TaskListRow\";\nexport const TasksContext = createContext();\nexport function dragAndDrop(doms){\n    if(doms instanceof NodeList){\n    doms.forEach(dom=>{\n        dom.addEventListener(\"dragover\",container=>\n        {\n            container.preventDefault();\n            const draggedElement = document.querySelector(\".dragging\");\n            if(draggedElement.parentElement.parentElement.id != dom.parentElement.id)\n                draggedElement.id = \"changeMe\";\n    });\n    dom.addEventListener(\"dragleave\",container=>\n        {\n            container.preventDefault();\n            const draggedElement = document.querySelector(\".dragging\");\n             draggedElement.id = \"\";\n    });\n    })\n}\nelse{\n    doms.addEventListener(\"dragover\",container=>{\n        container.preventDefault();\n        const draggedElement = document.querySelector(\".dragging\");\n        if(draggedElement.parentElement.id != doms.id)\n            draggedElement.id = \"changeMe\";\n        \n    });\n\n    doms.addEventListener(\"dragleave\",container=>{\n    container.preventDefault();\n    const draggedElement = document.querySelector(\".dragging\");\n     draggedElement.id = \"\";\n    });\n\n}\n}\nexport default function ListView(){\n    const [updateTasks , setupdateTasks] = useState(false);\n    const [uncompletedTasks,setuncompletedTasks] = useState();\n    const [completedTasks,setcompletedTasks] = useState();\n\n\n    const getTasks = async ()=>{\n        const {data} = await axios.get(\"http://localhost:3002/api/tasks\");\n        if(data.success === true && data.data.length > 0){\n            const uncompleted =  \n            data.data.filter(e=>e.completed === false)\n            .map((e,i)=> {\n                     return <TaskListRow key={i} {...e}/>;\n                \n            });\n            if(uncompleted.length > 0) {\n                setuncompletedTasks([...uncompleted]);\n            }\n            else{\n                setuncompletedTasks(<tr className=\"empty_list\"><td>List is empty</td></tr>);\n            }\n            const completed =data.data.filter(e=>e.completed === true)\n            .map((e,i)=> {\n                     return <TaskListRow key={i} {...e}/>;\n            });\n            if(completed.length > 0) {\n                setcompletedTasks([...completed]);\n            }\n            else{\n                setcompletedTasks(<tr className=\"empty_list\"><td>List is empty</td></tr>);\n            }\n\n        }\n        else{\n            setuncompletedTasks(<tr className=\"empty_list\"><td>List is empty</td></tr>);\n            setcompletedTasks(<tr className=\"empty_list\"><td>List is empty</td></tr>);  \n        }\n    };\n    useEffect(()=>{\n        dragAndDrop(document.querySelectorAll(\"table tbody\"));\n    },[]);\n    useEffect(()=>{\n        getTasks();\n    },[updateTasks]);\n    return(\n        <TasksContext.Provider value={setupdateTasks}>\n        <table border={0} id=\"uncompleted_tasks_table\">\n            <thead>\n                <tr>\n                    <td style={{display:\"flex\",alignItems:\"center\"}}>\n                        <h4>TO DO</h4>\n                        <h6 style={{margin:10}}>tasks {uncompletedTasks? uncompletedTasks.length : 0}</h6>\n                    </td>\n                </tr>\n            </thead>\n            <tbody>\n                {uncompletedTasks}\n\n            </tbody>\n        </table>\n        <table  id=\"completed_tasks_table\">\n        <thead>\n                <tr >\n                    <td style={{\n                        display:\"flex\",\n                        alignItems:\"center\"\n                            }}>\n                        <h4>COMPLETED</h4>\n                        <h6 style={{margin:10}}>tasks {completedTasks? completedTasks.length : 0}</h6>\n                    </td>\n                </tr>\n\n            </thead>\n            <tbody>\n                {completedTasks}\n            </tbody>\n        </table>\n        </TasksContext.Provider>\n        \n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}